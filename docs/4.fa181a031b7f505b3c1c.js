(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jcJX:function(r,e,i){"use strict";i.r(e),i.d(e,"AccountModule",(function(){return O}));var s=i("3Pt+"),t=i("ofXK"),n=i("tyNb"),o=i("fXoL"),b=i("J9tS");let a=(()=>{class r{constructor(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate(["/"])}}return r.\u0275fac=function(e){return new(e||r)(o.Ib(n.c),o.Ib(b.a))},r.\u0275cmp=o.Cb({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(o.Lb(0,"div",0),o.Jb(1,"router-outlet"),o.Kb())},directives:[n.g],encapsulation:2}),r})();var c=i("nPby");function f(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Email is required"),o.Kb())}function d(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Invalid Email"),o.Kb())}function u(r,e){if(1&r&&(o.Lb(0,"div",13),o.ec(1,f,2,0,"div",14),o.ec(2,d,2,0,"div",14),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.username.errors.required),o.xb(1),o.Vb("ngIf",r.f.username.errors.email)}}function m(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Password is required"),o.Kb())}function l(r,e){if(1&r&&(o.Lb(0,"div",13),o.ec(1,m,2,0,"div",14),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.password.errors.required)}}function g(r,e){1&r&&o.Jb(0,"span",15)}const p=function(r){return{"is-invalid":r}};let h=(()=>{class r{constructor(r,e,i,s,t){this.formBuilder=r,this.route=e,this.router=i,this.accountService=s,this.alertService=t,this.loading=!1,this.submitted=!1,this.user=new c.c}ngOnInit(){this.form=this.formBuilder.group({username:["",[s.i.required,s.i.email]],password:["",s.i.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.user.email=this.f.username.value,this.user.password=this.f.password.value,this.accountService.noplogin(this.user).subscribe(r=>{localStorage.setItem("token",JSON.stringify(r.token)),this.router.navigate(["/"]),this.loading=!1,this.alertService.success("Login detail match")},r=>{this.alertService.error(r),this.loading=!1}))}}return r.\u0275fac=function(e){return new(e||r)(o.Ib(s.c),o.Ib(n.a),o.Ib(n.c),o.Ib(b.a),o.Ib(b.b))},r.\u0275cmp=o.Cb({type:r,selectors:[["ng-component"]],decls:21,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","email","email","true","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(o.Lb(0,"div",0),o.Lb(1,"h4",1),o.fc(2,"Login"),o.Kb(),o.Lb(3,"div",2),o.Lb(4,"form",3),o.Sb("ngSubmit",(function(){return e.onSubmit()})),o.Lb(5,"div",4),o.Lb(6,"label",5),o.fc(7,"Email"),o.Kb(),o.Jb(8,"input",6),o.ec(9,u,3,2,"div",7),o.Kb(),o.Lb(10,"div",4),o.Lb(11,"label",8),o.fc(12,"Password"),o.Kb(),o.Jb(13,"input",9),o.ec(14,l,2,1,"div",7),o.Kb(),o.Lb(15,"div",4),o.Lb(16,"button",10),o.ec(17,g,1,0,"span",11),o.fc(18," Login "),o.Kb(),o.Lb(19,"a",12),o.fc(20,"Register"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&r&&(o.xb(4),o.Vb("formGroup",e.form),o.xb(4),o.Vb("ngClass",o.Yb(7,p,e.submitted&&e.f.username.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.username.errors),o.xb(4),o.Vb("ngClass",o.Yb(9,p,e.submitted&&e.f.password.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.password.errors),o.xb(2),o.Vb("disabled",e.loading),o.xb(1),o.Vb("ngIf",e.loading))},directives:[s.j,s.g,s.e,s.a,s.b,s.f,s.d,t.h,t.j,n.e],encapsulation:2}),r})();class v{}class L{}class K{constructor(){this.model=new v,this.form=new L}}function w(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Email is required"),o.Kb())}function I(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Invalid Email"),o.Kb())}function x(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,w,2,0,"div",22),o.ec(2,I,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.username.errors.required),o.xb(1),o.Vb("ngIf",r.f.username.errors.email)}}function V(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"First Name is required"),o.Kb())}function C(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,V,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.firstName.errors.required)}}function N(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Last Name is required"),o.Kb())}function S(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,N,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.lastName.errors.required)}}function q(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Phone number is required"),o.Kb())}function y(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Phone number must be at least 10 characters"),o.Kb())}function J(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,q,2,0,"div",22),o.ec(2,y,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.phone.errors.required),o.xb(1),o.Vb("ngIf",r.f.phone.errors.minLength)}}function P(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Password is required"),o.Kb())}function k(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Password must be at least 6 characters"),o.Kb())}function U(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,P,2,0,"div",22),o.ec(2,k,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.password.errors.required),o.xb(1),o.Vb("ngIf",r.f.password.errors.minlength)}}function Y(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Confirm Password is required"),o.Kb())}function j(r,e){1&r&&(o.Lb(0,"div"),o.fc(1,"Confirm Password must be at least 6 characters"),o.Kb())}function G(r,e){if(1&r&&(o.Lb(0,"div",21),o.ec(1,Y,2,0,"div",22),o.ec(2,j,2,0,"div",22),o.Kb()),2&r){const r=o.Ub();o.xb(1),o.Vb("ngIf",r.f.confirmpassword.errors.required),o.xb(1),o.Vb("ngIf",r.f.confirmpassword.errors.minlength)}}function E(r,e){1&r&&o.Jb(0,"span",23)}const R=function(r){return{"is-invalid":r}},B=[{path:"",component:a,children:[{path:"login",component:h},{path:"register",component:(()=>{class r{constructor(r,e,i,s,t){this.formBuilder=r,this.route=e,this.router=i,this.accountService=s,this.alertService=t,this.loading=!1,this.submitted=!1,this.register=new K}ngOnInit(){this.form=this.formBuilder.group({firstName:["",s.i.required],lastName:["",s.i.required],username:["",[s.i.required,s.i.email]],password:["",[s.i.required,s.i.minLength(6)]],confirmpassword:["",[s.i.required,s.i.minLength(6)]],phone:["",[s.i.required,s.i.minLength(10)]]}),this.accountService.noploginCreateGuestCustomer()}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.register.model.email=this.f.username.value,this.register.model.confirm_email=this.f.username.value,this.register.model.password=this.f.password.value,this.register.model.phone=this.f.phone.value,this.register.model.first_name=this.f.firstName.value,this.register.model.last_name=this.f.lastName.value,this.loading=!0,this.accountService.register(this.register).subscribe(r=>{this.loading=!1},r=>{"OK"==r?(this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})):this.alertService.error("customer is already registered")}))}}return r.\u0275fac=function(e){return new(e||r)(o.Ib(s.c),o.Ib(n.a),o.Ib(n.c),o.Ib(b.a),o.Ib(b.b))},r.\u0275cmp=o.Cb({type:r,selectors:[["ng-component"]],decls:41,vars:27,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","email","formControlName","username","email","true",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","phone"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","confirmpassword"],["type","password","formControlName","confirmpassword",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(o.Lb(0,"div",0),o.Lb(1,"h4",1),o.fc(2,"Register"),o.Kb(),o.Lb(3,"div",2),o.Lb(4,"form",3),o.Sb("ngSubmit",(function(){return e.onSubmit()})),o.Lb(5,"div",4),o.Lb(6,"label",5),o.fc(7,"Email"),o.Kb(),o.Jb(8,"input",6),o.ec(9,x,3,2,"div",7),o.Kb(),o.Lb(10,"div",4),o.Lb(11,"label",8),o.fc(12,"First Name"),o.Kb(),o.Jb(13,"input",9),o.ec(14,C,2,1,"div",7),o.Kb(),o.Lb(15,"div",4),o.Lb(16,"label",10),o.fc(17,"Last Name"),o.Kb(),o.Jb(18,"input",11),o.ec(19,S,2,1,"div",7),o.Kb(),o.Lb(20,"div",4),o.Lb(21,"label",12),o.fc(22,"Phone number"),o.Kb(),o.Jb(23,"input",13),o.ec(24,J,3,2,"div",7),o.Kb(),o.Lb(25,"div",4),o.Lb(26,"label",14),o.fc(27,"Password"),o.Kb(),o.Jb(28,"input",15),o.ec(29,U,3,2,"div",7),o.Kb(),o.Lb(30,"div",4),o.Lb(31,"label",16),o.fc(32,"Confirm Password"),o.Kb(),o.Jb(33,"input",17),o.ec(34,G,3,2,"div",7),o.Kb(),o.Lb(35,"div",4),o.Lb(36,"button",18),o.ec(37,E,1,0,"span",19),o.fc(38," Register "),o.Kb(),o.Lb(39,"a",20),o.fc(40,"Cancel"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&r&&(o.xb(4),o.Vb("formGroup",e.form),o.xb(4),o.Vb("ngClass",o.Yb(15,R,e.submitted&&e.f.username.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.username.errors),o.xb(4),o.Vb("ngClass",o.Yb(17,R,e.submitted&&e.f.firstName.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.firstName.errors),o.xb(4),o.Vb("ngClass",o.Yb(19,R,e.submitted&&e.f.lastName.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.lastName.errors),o.xb(4),o.Vb("ngClass",o.Yb(21,R,e.submitted&&e.f.phone.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.phone.errors),o.xb(4),o.Vb("ngClass",o.Yb(23,R,e.submitted&&e.f.password.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.password.errors),o.xb(4),o.Vb("ngClass",o.Yb(25,R,e.submitted&&e.f.confirmpassword.errors)),o.xb(1),o.Vb("ngIf",e.submitted&&e.f.confirmpassword.errors),o.xb(2),o.Vb("disabled",e.loading),o.xb(1),o.Vb("ngIf",e.loading))},directives:[s.j,s.g,s.e,s.a,s.f,s.d,s.b,t.h,t.j,n.e],encapsulation:2}),r})()}]}];let F=(()=>{class r{}return r.\u0275mod=o.Gb({type:r}),r.\u0275inj=o.Fb({factory:function(e){return new(e||r)},imports:[[n.f.forChild(B)],n.f]}),r})(),O=(()=>{class r{}return r.\u0275mod=o.Gb({type:r}),r.\u0275inj=o.Fb({factory:function(e){return new(e||r)},imports:[[t.b,s.h,F]]}),r})()}}]);